<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li><a href="#/scrumboard">Scrumboard</a></li>
                <li class="active"><a href="#">Backlog</a></li>
            </ul>
            <div class="navbar-form navbar-left form-group">
                <select id="releases" class="form-control" ng-model="selectedRelease" ng-options="release.name for release in allReleases" >
                </select>
                <span id="releaseDescription" class="nav-item">
                    {{selectedRelease.description}}
                </span>
                <span id="dueDate" class="hide-when-small nav-item">
                    Due Date: {{selectedRelease.dueDate | date:'EEE yyyy-MM-dd'}}
                </span>
                <span id="completedDate" class="hide-when-small nav-item">
                    Completed Date: {{(selectedRelease.completedDate | date:'EEE yyyy-MM-dd') || 'undefined'}}
                </span>
            </div>
        </div>
    </div>
</nav>

<div class="board" id="backlogboard">
    <div class="row slice" id="slice_next-sprint" detail-status="Next Sprint" dropable on-drag-over="onDragOver(isPlannedForNextSprint, event, id)">
        <h2>Next sprint</h2>
        <div ng-repeat="(project, stories) in projects">
            <div class="col-md-2">
                <div class="centered project-title">{{project}}</div>
                <story ng-repeat="story in nextSprintStories = (stories | filter:{isPlannedForNextSprint: true} | orderBy:['seqNumber', 'id']|emptyToEnd:'seqNumber')" story="story" backlog-mode="true">
                    {{story.isPlannedForNextSprint()}}
                </story>
                <div class="information-text" ng-show="nextSprintStories.length == 0">No stories</div>
            </div>
        </div>
	</div>
    <div class="row slice" id="slice_ready-to-implement" detail-status="Ready to Implement" dropable on-drag-over="onDragOver(isReadyToImplement, event, id)">
        <h2>Ready to implement</h2>
        <div ng-repeat="(project, stories) in projects">
            <div class="col-md-2">
                <div class="centered project-title">{{project}}</div>
                <story ng-repeat="story in readyToImplementStories = (stories | filter:{isReadyToImplement: true} | orderBy:'seqNumber')" story="story" backlog-mode="true">
                </story>
                <div class="information-text" ng-show="readyToImplementStories.length == 0">No stories</div>
            </div>
        </div>
	</div>
    <div class="row slice" id="slice_remaining">
        <h2>Remaining</h2>
        <div ng-repeat="(project, stories) in projects">
            <div class="col-md-2">
                <div class="centered project-title">{{project}}</div>
                <story ng-repeat="story in remainingStories = (stories | filter:{isReadyToImplement: false, isPlannedForNextSprint: false} | orderBy:'seqNumber')" story="story" backlog-mode="true">
                </story>
                <div class="information-text" ng-show="remainingStories.length == 0">No stories</div>
            </div>
        </div>
	</div>
</div>